{"posts":[{"title":"Quarkus（一）项目搭建及部署","text":"一.配置环境 JDK 17 https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html Apache Maven 3.8.8 https://maven.apache.org/download.cgi 1.配置Java环境 这个比较简单，相关教程：https://www.runoob.com/java/java-environment-setup.html 2.配置Maven环境 下载apache-maven-3.8.8-bin.zip压缩文件后解压 设置Maven环境变量，相关教程：https://www.runoob.com/maven/maven-setup.html 问题： 1.部分Quarkus依赖需要到RedHat官方镜像仓库下载，可以在MAVEN_HOME -&gt; config -&gt; setting.xml文件中设置RedHat官方Maven仓库地址，官网链接：https://access.redhat.com/documentation/en-us/red_hat_build_of_quarkus/2.2/guide/6de9adfb-6e23-4898-9ad7-d63427abc57b 123456789101112131415161718192021222324252627282930&lt;!-- Configure the Quarkus Maven repository --&gt;&lt;profile&gt; &lt;id&gt;red-hat-enterprise-maven-repository&lt;/id&gt; &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;red-hat-enterprise-maven-repository&lt;/id&gt; &lt;url&gt;https://maven.repository.redhat.com/ga/&lt;/url&gt; &lt;releases&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/releases&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/repository&gt; &lt;/repositories&gt; &lt;pluginRepositories&gt; &lt;pluginRepository&gt; &lt;id&gt;red-hat-enterprise-maven-repository&lt;/id&gt; &lt;url&gt;https://maven.repository.redhat.com/ga/&lt;/url&gt; &lt;releases&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/releases&gt; &lt;snapshots&gt; &lt;enabled&gt;false&lt;/enabled&gt; &lt;/snapshots&gt; &lt;/pluginRepository&gt; &lt;/pluginRepositories&gt;&lt;/profile&gt;&lt;activeProfile&gt;red-hat-enterprise-maven-repository&lt;/activeProfile&gt; 二.创建工程并启动1.使用IDEA初始化项目，这个比较方便 2.配置Maven环境，点击Maven刷新按钮下载依赖 3.配置Quarkus启动，默认dev模式 4.启动服务，第一次启动会比较慢，会下载一些依赖文件 5.启动成功 测试一下接口 1curl -w &quot;\\n&quot; http://localhost:8080/hello 三.打包及部署 打包成普通jar 1.maven打包成jar包 1mvn clean package -U -DskipTests 2.启动jar包 1java -jar C:\\Projects\\quarkus\\target\\quarkus-app\\quarkus-run.jar 3.测试接口 打包成docker镜像 1.修改dockerfile.jvm 1234567891011121314FROM registry.access.redhat.com/ubi8/openjdk-17:1.16ENV LANGUAGE='en_US:en'COPY target/lib/* /deployments/lib/COPY target/*-runner.jar /deployments/quarkus-run.jarEXPOSE 8080USER rootENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;ENV JAVA_APP_JAR=&quot;/deployments/quarkus-run.jar&quot;ENTRYPOINT [&quot;sh&quot;,&quot;-c&quot;,&quot;java $JAVA_OPTS -Djava.util.Arrays.useLegacyMergeSort=true -Xms256m -Xmx1024m -Xss256K -jar $JAVA_APP_JAR&quot;] 2.执行docker构建镜像命令 1docker build -f src/main/docker/Dockerfile.jvm -t quarkus-start/hello-quarkus-jar:0.0.1 . 3.启动镜像 1docker run -i --rm -p 8080:8080 quarkus-start/hello-quarkus-jar:0.0.1 4.测试接口","link":"/2023/09/21/Quarkus%EF%BC%88%E4%B8%80%EF%BC%89%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E5%8F%8A%E9%83%A8%E7%BD%B2/"}],"tags":[{"name":"quarkus","slug":"quarkus","link":"/tags/quarkus/"}],"categories":[{"name":"quarkus","slug":"quarkus","link":"/categories/quarkus/"}],"pages":[]}